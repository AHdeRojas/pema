############################################################################################
################################   PEMA 's PARAMETERS   ####################################
############################################################################################
#
#
# In this file there are all the parameters that need to be assigned every time PEMA is about to run!
# The parameters we have here, are not the only parameters of the tools invoked by PEMA.
# Hence, we encourage you the most to study the manual of each tool and make them as good as possible for your specific experiment.
# In the link next to each tool, you can find further information about its parameters. 
#
# ATTENTION!
# From each variable you have to leave EXACTLY ONE (1) TAB and then fill the parameter as you wish. 
#
#
############################################################################################
########################## The parameter setting starts frome here!  #######################
############################################################################################
#
## give in your each uniq experiment a NAME, so a single output file will be created for each of them 
#
outputFolderName	testingSingularity
#
#
## If the names of the samples under analysis are not in an ENA format (e.g "ERR1021912") but they are more like as
## the Illumina sequencer returned them (e.g "FdCor_1.fast.gz") PEMA might has a problem in dealing with them.
## We strongly suggest you to use the "convertIllumunaRawDataToEnaFormat.sh" script you can find in the GitHub repository of PEMA
## in order to change the names of your samples as they should be.
## Otherwise, you need to set the "EnaData" variable as 'No'.  
EnaData	Yes
#
#
#############################################################
#################   fastqc (v0.11.8)    #####################
#############################################################
#
## no parameters here!
#
#
#############################################################
################ trimmomatic (v.0.38)   #####################	// http://www.usadellab.org/cms/uploads/supplementary/Trimmomatic/TrimmomaticManual_V0.32.pdf
#############################################################
#
## Performs an adaptive quality trim, balancing the benefits of retaining longer reads against the costs of retaining bases with errors.
## It needs to be ser either as 'Yes' or 'No'.
maxInfo	Yes
#
#
############ for MAXINFO ####################
## Specifies the read length which is likely to allow the location of the read within the target sequence to be determined.
## It needs an integer to be set as a value.
targetLength	200
#
#
## This value, specifies the balance between preserving as much read length as possible vs. removal of incorrect bases.
## It can take values between 0 and 1.
## A low value of this parameter (<0.2) favours longer reads, while a high value (>0.8) favours read correctness.
strictness	0.3
#
#
############ for ILLUMINACLIP ##################
## Specifies the path to a fasta file containing all the adapters, PCR sequences etc.
## The naming of the various sequences within this file determines how they are used.
adapters	TruSeq2-PE.fa
#
## This parameter specifies the maximum mismatch count which will still allow a full match to be performed.
## It needs an integer to be set as a value.
seedMismatches	1
#
#
## This parameter specifies how accurate the match between the two 'adapter ligated' reads must be for PE palindrome read alignment.
## It needs an integer to be set as a value.
palindromeClipThreshold	30
#
#
## It specifies how accurate the match between any adapter etc. sequence must be against a read.
## It needs an integer to be set as a value.
simpleClipThreshold	10
#
#
############ for LEADING  ##########################
## The LEADING modules, removes low quality bases from the beginning.
## As long as a base has a value below this threshold (value of the 'leading' parameter) the base is removed and the next base will be investigated.
## It needs an integer to be set as a value.
leading	3
#
#
############ for TRAILING  #############################
## This module of Trimmomatic removes low quality bases from the end.
## As long as a base has a value below this threshold (value of the 'trailing' parameter), the base is removed
## and the next base (which as trimmomatic is starting from the 3' prime end, would be base preceding the just removed base) will be investigated.
## It needs an integer to be set as a value.
trailing	3
#
#
############  for MINLEN  ################################
## This module removes reads that fall below the specified minimal length. If required, it should normally be after all other processing steps.
## Reads removed by this step will be counted and included in the "dropped reads" count presented in the trimmomatic summary.
## It needs an integer to be set as a value.
minlen	100
#
#
## Finally, you need to set how many threads you want Trimmomatic to run into. 
threadsTrimmomatic	20
#
###############################################################
#########   BayesHammer (from SPAdes: v3.13.0)  ###############	
###############################################################
#
## This algorithm is part of the SPAdes tool package. You can find its manual here: http://cab.spbu.ru/files/release3.10.1/manual.html#sec1
#
## no parameters here!
#
#
################################################################
#################    PANDAseq (v. 2.11)      ###################	// https://storage.googleapis.com/pandaseq/pandaseq.html
################################################################
#
## PANDAseq is the algorithm that PEMA uses in order to merge the paired-end reads.
## PANDAseq has more than one merging algorithms.
#
## Here, we set the algorithm used for assembly. The most common of them are:
## pear --> uses the formula described in the PEAR paper (Zhang 2013), optionally with the probability of a random base (q) provide
## simple_bayesian --> uses the formula described in the original paper (Masella 2012), optionally with an error estimation (Îµ) provided.
## other options are stich, flash and more that you can fing in the above link.
pandaseqAlgorithm	simple_bayesian
#
#
## PANDAseq is a I/O bound algorithm. That means that it needs severous time in order to handle the ipnut and output files
## while the process is quite fast. However, it does support multithreading and here you can set the number of threads it is going to use.
pandaseqThreads	20
#
#
## PEMA performs the PANDAseq algorithm, with the -a and the -B parameters also on.
## That it for striping the primers after assembly, rather than before and allowing input sequences to lack a barcode/tag correspondingly.
#
#
###############################################################
###########  obiuniq  (from OBITools: v1.2.12)  ###############
###############################################################
#
## This algorithm is part of the OBITools package. You can find more about them here: https://pythonhosted.org/OBITools/
#
## no parameters here!
#
#
###############################################################
################    VSEARCH  (v2.9.1)    ######################
###############################################################
#
## VSEARCH is the main algorithm used for a lot of steps in the case of the 16S marker gene.
## Set how many threads do you want PANDAseq to use.
## It needs an integer to be set as a value.
vsearchThreads	20
#
#
## Here you need to set a score about the clustering step of the VSEARCH algorithm. 
## Do not add a read into a certain cluster if the pairwise identity with its centroid, is lower than the value of the 'vsearchId' parameter.
## The pairwise identity is defined as the number of (matching columns) / (alignment length - terminal gaps).
## It needs a real number to be set as a value, ranging from 0.0 to 1.0 .
vsearchId	0.98
#
#
################################################################################################
#//////////////////////////////////////////////////////////////////////////////////////////////
############################ GENE -  dependent parameters #####################################
#//////////////////////////////////////////////////////////////////////////////////////////////
###############################################################################################
#
## The marker gene you have is really important for both the clustering & chimera removal procedure and the
## taxonomy assignment. By default, the pipeline runs for 16S. Substitute with 'COI' if COI is your marker gene
## write it down after the underscore (_) - do not erase the udenrscore!!
gene	gene_16S
#
#
##########################################################################################################
###  Here are some parameters needed when the the metabarcoding analysis is about the 16S marker gene ####
##########################################################################################################
#
## If your marker gene is 16S, you can choose between 2 different approaches of taxonomy assignment (alignment & phylogenetic based)
## An alignment based taxonomy assignment - set as 'alignment' -  which is based on SILVA and CREST (version 3.0).
## However, you can also get a phylogenetic based assignment, by putting 'phylogeny' in this parameter. In that case, a reference tree we created is being used as well as the RAxML 
taxonomyAssignmentMethod	alignment
#
#
## When you use the alignment-based taxonomy assignment, then the LCAClassifier from the CREST algorithm, uses a Silva version for the assignment. 
## PEMA allows you to choose between the two last version of Silva. Hence, set the "silvaVersion" parameter either as 'silva_128' or as 'silva_128'
## depending on the version of your choice.
silvaVersion	silva_132
#
## As you may need a series of taxonomy assignment when you use the alignment-based method, please give another name in your taxonomy output folder of the CREST algorithm, each time you are about to use it. CREST creates an output folder every time and if a folder with the same already exists, it is going to abort the task! 
taxonomyFolderName	16S_taxon_assign
#
#
#					the following parameters is only for the case that the Phyloseq R package is about to run 		
#
#
## If wish to use Phyloseq in order to analyse your returned data then set the following  parameter 'phyloseq' with 'Yes'. In order to do that, PEMA needs an MSA that it is returned by the MAFFT (v7.427) aligner and a phylogeny tree of the OTUs found which is built by the RAxML-ng algorithm.
## Please remember that in order to use phyloseq a "metadata.tsv" file is necessary to be part of your anaylis folder. 
phyloseq	Yes
#
#
## The phyloseq object can handle phylogenetic trees as well. PEMA uses RAxML-ng in order to build such trees. Do you want to create such a tree with your OTUs? In case you build this once, you can use it as many times as you want.
tree	No
#
## In case you are about to use the phyloseq option, then a phylogeny tree has to be built. Hence, PEMA invokes the RAxML-ng algorithm
## which is able to run in more than one threads. Please set the number of threads RAxML is able to use.
raxmlThreads	10
#
#
## You can also set the number of the parsimony-based starting trees for the RAxML-ng 
parsTrees	3
#
#
## And finally, the number of the bootstrap trees
bootstrapTrees	100
#
#
##########################################################################################################
###  Here are some parameters needed when the the metabarcoding analysis is about the COI marker gene ####
##########################################################################################################
#
### if your marker gene is  COI, you can choose between 2 different approaches of clustering. Depending on which of them you choose
## you get either a robust output in a short time (SWARM)  or a non-robust output (CROP) that requires quite much more time.
## CROP is a bayesian algorithm and that is why its output in non-robust.
## By default, SWARM (v2.2.2) algorithm runs for the clustering.
## You have to change in to 'CROP' if you want the CROP algorithm to do the clustering step.
clusteringAlgo	algo_SWARM
#
#
# in case of SWARM, the user needs to speeecify the value of "d" parameter
# d is the number of missmatches
d	10
#
#
## PEMA invokes the UCHIME_DENOVO3 algorithm for the chimera removal in the case of the COI marker gene.
## This is a quite common algorithm for that step, but you still need to choose the minimum abundance skew value.
## By default this value is equal to 16. However, the only difference between UCHIME_DENOVO2 and 3 is that in the second version,
## the abskew value used to be equal to 2. So, be my guest and pick your value as I really have no clue about that.
## Probably, for environmental studies a low abskew is better, while in more specific studies a larger one would fit most.
abskew	2
#
#
## Finally, do you want your raw data to be removed in another file and empty the "rawData" file and all the checkpoints of PEMA to be also in an extra folder
## Swich 'Yes' to 'No' if you wish so. Be very careful when you do that, as you need to remember that if you want to analyze another dataset through P.E.M.A
## you will have to remove the first one manually.
emptyRawDataFile	Y
emptyCheckpoints	Y
#
